    ---
title: "Revisitando uma visualização"
output: html_notebook
---

```{r setup, echo=FALSE, warning=FALSE, message=FALSE}
library(tidyverse)
library(htmlwidgets)
library(plotly)
library(here)
theme_set(theme_bw())
```


```{r}
dados = read_csv(here("data/series_from_imdb.csv"), 
                    progress = FALSE,
                    col_types = cols(.default = col_double(), 
                                     series_name = col_character(), 
                                     episode = col_character(), 
                                     url = col_character(),
                                     season = col_character())) %>% 
                                    filter(series_name %in% c("Dexter", "How I Met Your Mother")) 

dexter <- dados %>% filter(series_name == "Dexter") 
himym <- dados %>% filter(series_name == "How I Met Your Mother") 

```

```{r}
p <- plot_ly(dados, type="scatter", mode="markers+text",
             y = ~dados$user_votes, 
             x = ~dados$user_rating, 
             size= ~dados$user_votes, 
             color= ~dados$series_name,
             hovertext= ~paste("Episódio:", dados$episode, '<br>S', dados$season, 'E', dados$season_ep)
p
```